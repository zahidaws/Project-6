<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bridal Makeup Services - TheBridalTouch</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary-pink: #ec4899;
      --dark-pink: #db2777;
      --gold: #d4af37;
      --light-gold: #f8e9c9;
    }
    
    body {
      font-family: 'Cormorant Garamond', serif;
      background-color: #f9fafb;
      margin: 0;
      padding: 0;
    }
    
    .brand-font {
      font-family: 'Playfair Display', serif;
    }
    
    .navbar-dark .navbar-nav .nav-link:hover,
    .navbar-dark .navbar-brand:hover { 
      color: #fce7f3; 
    }

    .service-card { 
      height: 100%; 
      min-height: 350px; 
      display: flex; 
      flex-direction: column; 
      justify-content: space-between; 
      transition: transform 0.2s ease; 
    }
    
    .service-card:hover { 
      transform: scale(1.05); 
    }
    
    .service-card img { 
      height: 200px; 
      object-fit: cover; 
      border-radius: 0.5rem 0.5rem 0 0; 
    }

    .badge { 
      padding: 0.35em 0.65em; 
      font-size: 0.75em; 
      font-weight: 700; 
      border-radius: 0.25rem; 
    }

    .btn-primary { 
      background-color: var(--primary-pink); 
      border-color: var(--primary-pink); 
    }
    
    .btn-primary:hover { 
      background-color: var(--dark-pink); 
      border-color: var(--dark-pink); 
    }

    .modal-header { 
      background-color: var(--primary-pink) !important; 
      color: white !important; 
    }
    
    .btn-close { 
      filter: invert(1); 
    }

    /* Overlay for mobile only */
    @media (max-width: 991px) {
      #menu-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(6px);
        z-index: 998;
        display: none;
      }
      .navbar-collapse.show ~ #menu-overlay {
        display: flex;
      }
      .navbar-collapse {
        z-index: 999;
        background: rgba(0, 0, 0, 0.9);
        padding: 1rem;
        border-radius: 0.5rem;
      }
    }
    
    @media (min-width: 992px) {
      #menu-overlay {
        display: none !important;
      }
    }

    .logo {
      width: 60px;
      height: 60px;
      transition: transform 0.3s ease;
    }
    
    .logo:hover {
      transform: scale(1.1);
    }
    
    #location-status {
      font-size: 0.8rem;
      margin-top: 5px;
    }
    
    .spinner-border-sm {
      width: 1rem;
      height: 1rem;
    }
    
    /* Service Details */
    .service-modal-img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
    }
    
    .sub-service-card {
      border: 1px solid #eee;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      transition: all 0.3s ease;
    }
    
    .sub-service-card:hover {
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transform: translateY(-3px);
    }
    
    .sub-service-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .sub-service-title {
      font-weight: bold;
      font-size: 1.1rem;
      color: var(--primary-pink);
    }
    
    .sub-service-price {
      font-weight: bold;
      color: #4caf50;
    }
    
    .sub-service-description {
      color: #666;
      margin-bottom: 10px;
      font-size: 0.9rem;
    }
    
    /* Custom Title Styles */
    .brand-title {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 1.5rem;
      background: linear-gradient(135deg, var(--primary-pink) 0%, var(--gold) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: relative;
      display: inline-block;
    }
    
    .brand-title::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }
    
    .brand-tagline {
      font-family: 'Cormorant Garamond', serif;
      font-style: italic;
      font-size: 0.7rem;
      color: var(--gold);
      letter-spacing: 1px;
      margin-top: -5px;
    }
    
    /* Section title enhancements */
    .section-title {
      font-family: 'Playfair Display', serif;
      font-weight: 600;
      position: relative;
      padding-bottom: 15px;
      margin-bottom: 30px;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-pink), var(--gold));
    }
    
    /* Custom logo styling */
    .custom-logo {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary-pink) 0%, var(--gold) 100%);
      border-radius: 50% !important; 
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      transition: all 0.3s ease;
    }
    
    .custom-logo:hover {
      transform: rotate(10deg) scale(1.1);
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }
    
    /* Gold accent elements */
    .gold-accent {
      color: var(--gold);
    }
    
    /* Footer enhancements */
    footer {
      background: linear-gradient(to right, #2d3748, #1a202c);
    }
    
    /* Navigation enhancements */
    .navbar {
      transition: background 0.3s ease;
    }
    
    .navbar.scrolled {
      background: rgba(0, 0, 0, 0.9) !important;
      backdrop-filter: blur(10px);
    }
    
    /* Breadcrumb */
    .breadcrumb {
      background-color: transparent;
      padding: 0.75rem 1rem;
    }
    
    .breadcrumb-item a {
      color: var(--primary-pink);
      text-decoration: none;
    }
    
    .breadcrumb-item.active {
      color: var(--gold);
    }
    
    /* Service Hero */
    .service-hero {
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://wallpapers.com/images/hd/beautiful-indian-bridal-makeup-00o424q61jblvfvv.jpg');
      background-size: cover;
      background-position: center;
      padding: 400px 0 60px;
      margin-top: -170px;
      color: white;
      text-align: center;
    }
    
    /* Package image styling */
    .package-image {
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-transparent fixed-top py-3" id="navbar">
    <div class="container-fluid mx-auto px-4 sm:px-6 lg:px-8">
      <a class="navbar-brand flex items-center space-x-3" href="Home.html">
        <div class="custom-logo">
          <i class="fas fa-crown" href="#"></i>
        </div>
        <div class="flex flex-col">
          <span class="brand-title text-2xl mb-2">TheBridalTouch</span>
          <span class="brand-tagline">Where Elegance Meets Tradition</span>
        </div>
      </a>

      <!-- Toggler -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Menu -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav space-x-4">
          <li class="nav-item"><a class="nav-link text-white" href="Home.html">Home</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="index.html#services">Services</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="index.html#gallery">Gallery</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="index.html#contact">Contact</a></li>
        </ul>

        <!-- Phone number shown below logo in toggle -->
        <div class="d-lg-none mt-3 text-white w-100">
          <p class="text-center font-bold"><i class="fas fa-phone gold-accent"></i> +91 9876543210</p>
        </div>
      </div>

      <!-- Booking Button -->
      <button type="button" class="btn btn-primary rounded-full px-4" data-bs-toggle="modal" data-bs-target="#bookingModal">
        Book Now <span class="badge bg-white text-pink-500 ml-1" id="cart-count">0</span>
      </button>
    </div>
  </nav>
  <div id="menu-overlay"></div>

  <!-- Breadcrumb -->
  <div class="container mt-20 pt-4">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="Home.html">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Bridal Makeup</li>
      </ol>
    </nav>
  </div>

  <!-- Service Hero Section -->
  <section class="service-hero">
    <div class="container">
      <h1 class="text-4xl sm:text-5xl font-bold mb-4">Bridal Makeup Services</h1>
      <p class="text-xl max-w-2xl mx-auto">Our premium bridal makeup packages are designed to make you look stunning on your special day. Each package includes a trial session and uses high-quality, long-lasting products.</p>
    </div>
  </section>

  <!-- Sub Services Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="section-title text-3xl sm:text-4xl font-bold text-center text-gray-800">Our Bridal Makeup Packages</h2>
      
      <div class="row">
        <!-- Classic Bridal Package -->
        <div class="col-md-6 mb-4">
          <div class="sub-service-card">
            <img src="https://images.unsplash.com/photo-1596466596120-2a8e4b5d1a51?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnJpZGFsJTIwbWFrZXVwJTIwbmF0dXJhbHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60" alt="Classic Bridal Makeup" class="package-image">
            <div class="sub-service-header">
              <div class="sub-service-title">Classic Bridal Package</div>
              <div class="sub-service-price">₹15,000</div>
            </div>
            <div class="sub-service-description">
              Basic bridal makeup with natural look, includes makeup trial, base makeup, eye makeup, and lip color.
            </div>
            <button class="btn btn-primary add-sub-service" data-price="15000" data-name="Classic Bridal Package">
              Add to Cart
            </button>
          </div>
        </div>
        
        <!-- Premium Bridal Package -->
        <div class="col-md-6 mb-4">
          <div class="sub-service-card">
            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJlbWl1bSUyMG1ha2V1cHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60" alt="Premium Bridal Makeup" class="package-image">
            <div class="sub-service-header">
              <div class="sub-service-title">Premium Bridal Package</div>
              <div class="sub-service-price">₹25,000</div>
            </div>
            <div class="sub-service-description">
              Complete bridal transformation with airbrush makeup, false lashes, contouring, and touch-up kit.
            </div>
            <button class="btn btn-primary add-sub-service" data-price="25000" data-name="Premium Bridal Package">
              Add to Cart
            </button>
          </div>
        </div>
        
        <!-- Royal Bridal Package -->
        <div class="col-md-6 mb-4">
          <div class="sub-service-card">
            <img src="https://images.unsplash.com/photo-1557246563-4f4c2b1b4e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cm95YWwlMjBtYWtldXB8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60" alt="Royal Bridal Makeup" class="package-image">
            <div class="sub-service-header">
              <div class="sub-service-title">Royal Bridal Package</div>
              <div class="sub-service-price">₹35,000</div>
            </div>
            <div class="sub-service-description">
              Luxury package with HD makeup, individual lashes, professional photoshoot makeup, and personal assistant.
            </div>
            <button class="btn btn-primary add-sub-service" data-price="35000" data-name="Royal Bridal Package">
              Add to Cart
            </button>
          </div>
        </div>
        
        <!-- Destination Wedding Package -->
        <div class="col-md-6 mb-4">
          <div class="sub-service-card">
            <img src="https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZGVzdGluYXRpb24lMjB3ZWRkaW5nfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="Destination Wedding Makeup" class="package-image">
            <div class="sub-service-header">
              <div class="sub-service-title">Destination Wedding Package</div>
              <div class="sub-service-price">₹45,000</div>
            </div>
            <div class="sub-service-description">
              Special package for destination weddings including multiple functions, travel arrangements, and on-site services.
            </div>
            <button class="btn btn-primary add-sub-service" data-price="45000" data-name="Destination Wedding Package">
              Add to Cart
            </button>
          </div>
        </div>
        
        <!-- Bridal Trial Session -->
        <div class="col-md-6 mb-4">
          <div class="sub-service-card">
            <img src="https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFrZXVwJTIwdHJpYWx8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60" alt="Bridal Trial Session" class="package-image">
            <div class="sub-service-header">
              <div class="sub-service-title">Bridal Trial Session</div>
              <div class="sub-service-price">₹5,000</div>
            </div>
            <div class="sub-service-description">
              Dedicated trial session to finalize your bridal look before the wedding day.
            </div>
            <button class="btn btn-primary add-sub-service" data-price="5000" data-name="Bridal Trial Session">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-4 text-center">
      <h2 class="section-title text-3xl sm:text-4xl font-bold text-gray-800">What Our Brides Say</h2>
      
      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="card h-100 p-4">
            <div class="text-yellow-400 mb-3">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <p class="text-gray-600 mb-4">"The Premium Bridal Package was worth every penny! I felt like a princess on my wedding day."</p>
            <p class="font-bold">- Priya S.</p>
          </div>
        </div>
        
        <div class="col-md-4 mb-4">
          <div class="card h-100 p-4">
            <div class="text-yellow-400 mb-3">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <p class="text-gray-600 mb-4">"The trial session helped me finalize the perfect look. The makeup lasted all day and photographed beautifully!"</p>
            <p class="font-bold">- Anjali M.</p>
          </div>
        </div>
        
        <div class="col-md-4 mb-4">
          <div class="card h-100 p-4">
            <div class="text-yellow-400 mb-3">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <p class="text-gray-600 mb-4">"The artists understood exactly what I wanted and enhanced my features perfectly. Highly recommend!"</p>
            <p class="font-bold">- Riya K.</p>
          </div>
        </div>
      </div>
    </div>
  </section>  
  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-8 text-center">
    <div class="container mx-auto">
      <div class="flex flex-col items-center mb-6">
        <div class="custom-logo mb-4">
          <i class="fas fa-crown"></i>
        </div>
        <h3 class="brand-title text-2xl mb-2">TheBridalTouch</h3>
        <p class="brand-tagline">Where Elegance Meets Tradition</p>
      </div>
      <div class="flex justify-center space-x-6 mb-6">
        <a href="https://www.facebook.com/" class="text-2xl hover:text-pink-400 transition" target="_main"><i class="fab fa-facebook-f"></i></a>
        <a href="https://www.instagram.com/" class="text-2xl hover:text-pink-400 transition" target="_main"><i class="fab fa-instagram"></i></a>
        <a href="https://wa.me/9296218880" class="text-2xl hover:text-pink-400 transition" target="_main"><i class="fab fa-whatsapp"></i></a>
      </div>
      <p>&copy; 2025 TheBridalTouch. All rights reserved.</p>
    </div>
  </footer>

  <!-- Booking Modal -->
  <div class="modal fade" id="bookingModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-pink-500 text-white">
          <h5 class="modal-title">Your Bookings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="cart-items-container"><p id="empty-cart-message" class="text-gray-500 text-center">Your cart is empty.</p></div>
          <div class="mt-4 pt-4 border-t border-gray-200 flex justify-between font-bold">
            <span>Total Price:</span><span id="total-price">₹0.00</span>
          </div>

          <!-- Booking Details -->
          <div class="mt-4">
            <label>Name:</label>
            <input type="text" id="name-input" class="form-control mb-2" required>

            <label>Phone:</label>
            <input type="text" id="phone-input" class="form-control mb-2" required>

            <label>House No:</label>
            <input type="text" id="house-input" class="form-control mb-2" required>

            <label>Area:</label>
            <input type="text" id="area-input" class="form-control mb-2" required>

            <label>City:</label>
            <input type="text" id="city-input" class="form-control mb-2" required>

            <label>Pincode:</label>
            <input type="text" id="pincode-input" class="form-control mb-2" required>

            <button type="button" class="btn btn-secondary mt-2 w-100" id="get-location-btn">
              <span id="location-btn-text">Use Current Location</span>
              <span id="location-spinner" class="spinner-border spinner-border-sm d-none" role="status"></span>
            </button>
            <p id="location-status" class="text-sm mt-2"></p>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button class="btn btn-primary" id="final-confirm-btn">Confirm Booking</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cartCountElement = document.getElementById('cart-count');
      const cartItemsContainer = document.getElementById('cart-items-container');
      const totalPriceElement = document.getElementById('total-price');
      const emptyCartMessage = document.getElementById('empty-cart-message');
      const finalConfirmBtn = document.getElementById('final-confirm-btn');
      const getLocationBtn = document.getElementById('get-location-btn');
      let cart = [];

      // Add sub-service to cart
      document.addEventListener('click', e => {
        if (e.target.classList.contains('add-sub-service')) {
          const name = e.target.dataset.name;
          const price = parseInt(e.target.dataset.price);
          
          cart.push({ name, price });
          updateCartUI();
          
          // Show confirmation
          const toast = document.createElement('div');
          toast.className = 'position-fixed bottom-0 end-0 p-3';
          toast.innerHTML = `
            <div class="toast align-items-center text-white bg-success border-0 show" role="alert">
              <div class="d-flex">
                <div class="toast-body">
                  ${name} added to cart!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
              </div>
            </div>
          `;
          document.body.appendChild(toast);
          
          // Remove toast after 3 seconds
          setTimeout(() => {
            document.body.removeChild(toast);
          }, 3000);
        }
      });

      function updateCartUI() {
        cartCountElement.textContent = cart.length;
        cartItemsContainer.innerHTML = '';
        let total = 0;
        if (cart.length === 0) {
          emptyCartMessage.style.display = 'block';
        } else {
          emptyCartMessage.style.display = 'none';
          cart.forEach(item => {
            total += item.price;
            cartItemsContainer.innerHTML += `<div class="d-flex justify-content-between py-2 border-b"><span>${item.name}</span><span>₹${item.price.toLocaleString()}</span></div>`;
          });
        }
        totalPriceElement.textContent = `₹${total.toLocaleString()}`;
      }

      finalConfirmBtn.addEventListener('click', () => {
        const name = document.getElementById('name-input').value;
        const phone = document.getElementById('phone-input').value;
        const house = document.getElementById('house-input').value;
        const area = document.getElementById('area-input').value;
        const city = document.getElementById('city-input').value;
        const pincode = document.getElementById('pincode-input').value;

        if (!name || !phone || !house || !area || !city || !pincode) {
          alert('Please fill all fields');
          return;
        }

        alert('Booking Confirmed!\n\nThank you for choosing TheBridalTouch.');
        cart = [];
        updateCartUI();
        document.querySelector('#bookingModal .btn-close').click();
      });

      // Navbar scroll effect
      window.addEventListener('scroll', () => {
        const navbar = document.getElementById('navbar');
        if (window.scrollY > 50) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });

      // Geolocation functionality
      getLocationBtn.addEventListener('click', getLocation);
      
      function getLocation() {
        const locationBtnText = document.getElementById('location-btn-text');
        const locationSpinner = document.getElementById('location-spinner');
        const locationStatus = document.getElementById('location-status');
        
        // Show loading state
        locationBtnText.textContent = "Getting location...";
        locationSpinner.classList.remove('d-none');
        locationStatus.textContent = "";
        locationStatus.className = "text-sm mt-2 text-info";
        
        if (navigator.geolocation) {
          // Set timeout for geolocation request
          const options = {
            enableHighAccuracy: true,
            timeout: 10000, // 10 seconds
            maximumAge: 60000 // 1 minute
          };
          
          navigator.geolocation.getCurrentPosition(
            position => showPosition(position),
            error => handleGeolocationError(error),
            options
          );
        } else {
          locationStatus.textContent = "Geolocation is not supported by this browser.";
          locationStatus.className = "text-sm mt-2 text-danger";
          resetLocationButton();
        }
      }
      
      function showPosition(position) {
        const locationStatus = document.getElementById('location-status');
        locationStatus.textContent = "Location found! Getting address details...";
        locationStatus.className = "text-sm mt-2 text-info";
        
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        
        // Using OpenStreetMap's Nominatim API for reverse geocoding
        const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`;
        
        fetch(url)
          .then(res => res.json())
          .then(data => {
            if (data && data.address) {
              fillAddressFields(data.address);
              locationStatus.textContent = "Address filled successfully!";
              locationStatus.className = "text-sm mt-2 text-success";
            } else {
              locationStatus.textContent = "Could not get address details. Please try again.";
              locationStatus.className = "text-sm mt-2 text-warning";
            }
            resetLocationButton();
          })
          .catch(err => {
            console.error(err);
            locationStatus.textContent = "Error fetching address details. Please try again.";
            locationStatus.className = "text-sm mt-2 text-danger";
            resetLocationButton();
          });
      }
      
      function handleGeolocationError(error) {
        const locationStatus = document.getElementById('location-status');
        let errorMessage = "Unable to fetch location. Please enter manually.";
        
        switch(error.code) {
          case error.PERMISSION_DENIED:
            errorMessage = "Location access denied. Please enable location services in your browser settings or enter address manually.";
            break;
          case error.POSITION_UNAVAILABLE:
            errorMessage = "Location information unavailable. Please check your connection or enter address manually.";
            break;
          case error.TIMEOUT:
            errorMessage = "Location request timed out. Please try again or enter address manually.";
            break;
          default:
            errorMessage = "An unknown error occurred. Please enter address manually.";
        }
        
        locationStatus.textContent = errorMessage;
        locationStatus.className = "text-sm mt-2 text-danger";
        resetLocationButton();
      }
      
      function fillAddressFields(address) {
        // Extract address components from the response
        const house = address.house_number || address.house || "";
        const road = address.road || "";
        const suburb = address.suburb || "";
        const city = address.city || address.town || address.village || address.county || "";
        
        // Set the values in the form
        document.getElementById('house-input').value = house;
        document.getElementById('area-input').value = [road, suburb].filter(Boolean).join(", ");
        document.getElementById('city-input').value = city;
        document.getElementById('pincode-input').value = postcode;
      }
      
      function resetLocationButton() {
        const locationBtnText = document.getElementById('location-btn-text');
        const locationSpinner = document.getElementById('location-spinner');
        
        locationBtnText.textContent = "Use Current Location";
        locationSpinner.classList.add('d-none');
      }
    });
  </script>
</body>
</html>
